<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Hillary — October 2025</title>
  <style>
    body { font-family: -apple-system, system-ui, sans-serif; line-height: 1.45; margin: 24px; }
    header { display:flex; align-items:center; gap:16px; margin-bottom:16px; flex-wrap: wrap; }
    .row { display:flex; align-items:center; gap:8px; margin:6px 0; flex-wrap: wrap; }
    .card { border:1px solid #ddd; border-radius:12px; padding:12px 14px; margin:12px 0; }
    .small { color:#777; font-size: 12px; }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, monospace; }
    audio { width: 320px; }
    select { padding:6px 8px; border-radius:8px; border:1px solid #ccc; }
  </style>
</head>
<body>
  <header>
    <h1>Hillary — October 2025</h1>
    <div class="row">
      <label for="episodeFilter">Filter by episode:</label>
      <select id="episodeFilter"><option value="">All</option></select>
    </div>
    <div class="small">Portable read-only page. Share this folder as-is (keep <span class="mono">clips/</span> with it).</div>
  </header>
  <div id="hits"></div>

<script id="payload" type="application/json">[{"episode": "25-10-06", "episode_pretty": "October 6", "start": 657.816, "end": 666.31, "text": "And I get now why, you know how some people like Q or whatever have the conspiracy about Hillary Clinton or Ronald Reagan drinking baby blood?", "speaker_id": "SPEAKER_08", "speaker": "JAKE", "clip": "clips/25-10-06_hillary_001.mp3"}, {"episode": "25-10-07", "episode_pretty": "October 7", "start": 9563.83, "end": 9568.839, "text": "Dude, that's just a long-standing why Hillary lost.", "speaker_id": "SPEAKER_06", "speaker": "JAKE", "clip": "clips/25-10-07_hillary_001.mp3"}, {"episode": "25-10-17", "episode_pretty": "October 17", "start": 283.638, "end": 291.904, "text": "I've never heard so much why Hillary lost packed into one hour other than Pablo Torre and Katie Nolan talking.", "speaker_id": "SPEAKER_07", "speaker": "JAKE", "clip": "clips/25-10-17_hillary_001.mp3"}, {"episode": "25-10-17", "episode_pretty": "October 17", "start": 2210.687, "end": 2214.932, "text": "And this was tough to take, because again, this is why Hillary lost.", "speaker_id": "SPEAKER_07", "speaker": "JAKE", "clip": "clips/25-10-17_hillary_002.mp3"}, {"episode": "25-10-17", "episode_pretty": "October 17", "start": 2217.595, "end": 2222.862, "text": "It's Katie Nolan, who I think has a lot of talent, but also is why Hillary lost.", "speaker_id": "SPEAKER_07", "speaker": "JAKE", "clip": "clips/25-10-17_hillary_003.mp3"}, {"episode": "25-10-17", "episode_pretty": "October 17", "start": 2235.698, "end": 2237.581, "text": "related to why Hillary lost.", "speaker_id": "SPEAKER_07", "speaker": "JAKE", "clip": "clips/25-10-17_hillary_004.mp3"}, {"episode": "25-10-20", "episode_pretty": "October 20", "start": 1460.579, "end": 1465.426, "text": "Like you want to talk about why Hillary lost because guys who want salad at the AC.", "speaker_id": "SPEAKER_08", "speaker": "JAKE", "clip": "clips/25-10-20_hillary_001.mp3"}, {"episode": "25-10-22", "episode_pretty": "October 22", "start": 4886.385, "end": 4890.409, "text": "Breast Cancer Awareness Month is 100% why Hillary lost.", "speaker_id": "SPEAKER_07", "speaker": "JAKE", "clip": "clips/25-10-22_hillary_001.mp3"}, {"episode": "25-10-27", "episode_pretty": "October 27", "start": 8696.748, "end": 8698.61, "text": "And do you want another why Hillary lost?", "speaker_id": "SPEAKER_07", "speaker": "DAN", "clip": "clips/25-10-27_hillary_001.mp3"}, {"episode": "25-10-29", "episode_pretty": "October 29", "start": 5115.94, "end": 5118.564, "text": "You know, Hillary wanted to put windmills all over the place.", "speaker_id": "SPEAKER_08", "speaker": "BigMan", "clip": "clips/25-10-29_hillary_001.mp3"}, {"episode": "25-10-29", "episode_pretty": "October 29", "start": 7137.858, "end": 7144.514, "text": "But unlike Zoran Mamdani, who looks Monscrani and like why Hillary lost to Dan.", "speaker_id": "SPEAKER_08", "speaker": "JAKE", "clip": "clips/25-10-29_hillary_002.mp3"}, {"episode": "25-10-29", "episode_pretty": "October 29", "start": 7261.91, "end": 7268.8, "text": "The people who are Why Hillary Lost are doing, oh man, it's just this tough situation here for Graham Platner.", "speaker_id": "SPEAKER_08", "speaker": "JAKE", "clip": "clips/25-10-29_hillary_003.mp3"}]</script>
<script>
let data = [];
try {
  data = JSON.parse(document.getElementById('payload').textContent);
  if (!Array.isArray(data)) data = [];
} catch (e) {
  const pre = document.createElement('pre');
  pre.textContent = 'JSON parse error: ' + e.message;
  pre.style.color = 'crimson';
  document.body.insertBefore(pre, document.body.firstChild);
}

function render() {
  const container = document.getElementById('hits');
  const select = document.getElementById('episodeFilter');
  if (!select.dataset.init) {
    const episodes = Array.from(new Set(data.map(d => d.episode))).sort();
    episodes.forEach(ep => { const opt = document.createElement('option'); opt.value = ep; opt.textContent = ep; select.appendChild(opt); });
    select.dataset.init = "1";
    select.onchange = () => render();
  }
  container.innerHTML = '';
  const filterEp = select.value || '';
  const items = filterEp ? data.filter(d => d.episode === filterEp) : data;
  if (!items.length) {
    const d = document.createElement('div'); d.className = 'small'; d.textContent = 'No matches.'; container.appendChild(d); return;
  }
  items.forEach((item, idx) => {
    const card = document.createElement('div'); card.className = 'card';
    const title = document.createElement('div'); title.className = 'row';
    const left = document.createElement('div');
    left.innerHTML = '<strong>#' + (idx+1) + '</strong> ' +
                     '<span class="small">(episode: ' + (item.episode || '?') +
                     ', speaker: ' + (item.speaker || item.speaker_id || '?') + ')</span>';
    const right = document.createElement('div'); right.className = 'small mono';
    const s = Number(item.start || 0).toFixed(2), e = Number(item.end || 0).toFixed(2);
    right.textContent = '@ ' + s + 's – ' + e + 's';
    title.appendChild(left); title.appendChild(right);

    const row = document.createElement('div'); row.className = 'row';
    const audio = document.createElement('audio'); audio.controls = true; audio.preload = 'metadata';
    audio.src = item.clip;
    const text = document.createElement('span');
    // Avoid quotes that could break HTML; payload already contains raw text.
    text.textContent = '  ' + (item.text || '');
    row.appendChild(audio); row.appendChild(text);

    card.appendChild(title); card.appendChild(row); container.appendChild(card);
  });
}
render();
</script>
</body>
</html>
